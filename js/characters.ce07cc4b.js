(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["characters"],{"06b8":function(t,a,e){"use strict";e("ca7a")},"0736":function(t,a,e){"use strict";e.r(a);var r=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("header",{staticClass:"text-white text-center"},[e("div",{staticClass:"container"},[e("div",{staticClass:"row"},[t._m(0),e("div",{staticClass:"col-md-10 col-lg-8 col-xl-7 mx-auto"},[e("form",{staticClass:"needs-validation",attrs:{novalidate:""}},[e("div",{staticClass:"form-row"},[e("div",{staticClass:"col-12 col-md-9 mb-2 mb-md-0"},[e("input",{staticClass:"form-control form-control-lg",class:""!==t.q?t.filterCharacters.length>0?"is-valid":"is-invalid":"",attrs:{type:"email",placeholder:"Rick, Morty, Jerry etc..."},on:{input:t.filterCharacterByName}})])])])])])])]),t.loading?e("Loader"):t._e(),t.loading?t._e():e("div",{staticClass:"container",attrs:{id:"characters-list"}},[e("Pagination"),e("div",{staticClass:"row row-cols-1 row-cols-md-4"},t._l(t.characters,(function(a,r){return e("div",{key:r,staticClass:"col character"},[e("div",{staticClass:"card",on:{click:function(e){return t.goToCharacterDetail(a.id)}}},[e("img",{staticClass:"card-img-top",attrs:{src:a.image,alt:a.name}}),e("div",{staticClass:"card-body"},[e("h5",{staticClass:"card-title"},[t._v(t._s(a.name))])])])])})),0),e("Pagination")],1)],1)},s=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"col-xl-9 mx-auto"},[e("h1",[t._v("Saisissez un nom")])])}],n=(e("96cf"),e("1da1")),i=e("a6f4"),c=e("bc3a"),o=e.n(c),u=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("nav",{attrs:{"aria-label":"Page navigation example"}},[e("ul",{staticClass:"pagination justify-content-end"},[e("li",{staticClass:"page-item",class:t.hasPrev?"":"disabled"},[e("a",{staticClass:"page-link",attrs:{href:"#",tabindex:"-1","aria-disabled":"true"},on:{click:function(a){return t.paginate("prev")}}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("«")])])]),t._l(t.getPages(t.currentPage,t.pagesCount),(function(a,r){return e("li",{key:r,staticClass:"page-item",class:t.currentPage===a?"active":""},[e("a",{staticClass:"page-link",class:"..."===a?"disabled":"",on:{click:function(e){return t.goTo(a)}}},[t._v(t._s(a))])])})),e("li",{staticClass:"page-item",class:t.hasNext?"":"disabled"},[e("a",{staticClass:"page-link",attrs:{href:"#"},on:{click:function(a){return t.paginate("next")}}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("»")])])])],2)])},l=[],h=Object(i["a"])({name:"Pagination",computed:{hasNext:function(){return this.$store.state.pagination.next},hasPrev:function(){return this.$store.state.pagination.prev},currentPage:function(){return parseInt(this.$route.query.page)},pagesCount:function(){return this.$store.state.pagination.pages}},methods:{getPages:function(t,a){for(var e,r=t,s=a,n=2,i=r-n,c=r+n+1,o=[],u=[],l=1;l<=s;l++)(1==l||l==s||l>=i&&l<c)&&o.push(l);for(var h=0,g=o;h<g.length;h++){var p=g[h];e&&(p-e===2?u.push(e+1):p-e!==1&&u.push("...")),u.push(p),e=p}return u},paginate:function(t){var a=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var r,s,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=a.$store.state.pagination,s=a.$route.query,r[t]){e.next=4;break}return e.abrupt("return");case 4:return s.page||(s.page="1"),n="next"===t?parseInt(s.page)+1:parseInt(s.page)-1,a.$store.commit("setLoadingCharacters",!0),e.next=9,o.a.get(r[t]).then((function(t){var e=t.data;a.$store.commit("setCharacters",e),a.$store.commit("setPage",n),a.$router.push({path:"characters",query:{page:n+""}}),a.$store.commit("setLoadingCharacters",!1)}));case 9:case"end":return e.stop()}}),e)})))()},goTo:function(t){var a=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r="https://rickandmortyapi.com/api/character/?page=".concat(t),a.$store.commit("setLoadingCharacters",!0),e.next=4,o.a.get(r).then((function(e){var r=e.data;a.$store.commit("setCharacters",r),a.$store.commit("paginate",t),a.$router.push({path:"characters",query:{page:t+""}}),a.$store.commit("setLoadingCharacters",!1)}));case 4:case"end":return e.stop()}}),e)})))()}}}),g=h,p=(e("1d11"),e("2877")),d=Object(p["a"])(g,u,l,!1,null,"0506d90b",null),m=d.exports,f=e("568c"),v=Object(i["a"])({name:"Characters",components:{Pagination:m,Loader:f["a"]},data:function(){return{q:""}},mounted:function(){this.setPage(),this.getCharacters()},computed:{characters:function(){return this.$store.getters.characters},filterCharacters:function(){return this.$store.getters.filterCharacters},loading:function(){return this.$store.state.loading.characters}},methods:{setPage:function(){var t=this.$route.query.page,a=this.$store.state.pagination.currentPage||parseInt(t)||1;t||this.$router.push({path:"characters",query:{page:a+""}}),this.$store.commit("setPage",a)},getCharacters:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){var e,r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e=t.$store.state.pagination.currentPage,r="https://rickandmortyapi.com/api/character/?page=".concat(e),a.next=4,o.a.get(r).then((function(a){var e=a.data;t.$store.commit("setCharacters",e),t.$store.commit("setLoading",{loadingKey:"characters",value:!1})}));case 4:case"end":return a.stop()}}),a)})))()},filterCharacterByName:function(t){this.q=t.target.value,this.$store.commit("filterCharacterByName",this.q)},goToCharacterDetail:function(t){this.$router.push("/characters/".concat(t))}}}),C=v,$=(e("06b8"),Object(p["a"])(C,r,s,!1,null,"bbeb70ea",null));a["default"]=$.exports},"1d11":function(t,a,e){"use strict";e("8784")},8784:function(t,a,e){},ca7a:function(t,a,e){}}]);
//# sourceMappingURL=characters.ce07cc4b.js.map